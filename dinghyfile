{
	"application": "acmeair",
	"globals": {
		"displayName": "acmenode-deployment",
		"artifactPath": "acmeair/acme-air-dep.yml",
		"expectedArtifactId": "some-artifact-id",
		"githubAccount": "garreeoke",
		"k8sProviderName": "kubeconfig-dev-sa",
		"dockerProviderName": "garreeoke-docker",
		"app": "acmeair",
		"branch": "master"
	},
	"pipelines": [
		{
			"application": "acmeair",
			"name": "acmenode",
			"expectedArtifacts": [
				{{ module "github.expectedart.module" }}
			],
			"keepWaitingPipelines": false,
			"limitConcurrent": false,
			"stages": [
				{{ module "k8s.deploymanifest.stage.module" "stageOrder" 1 "stageName" "DeployAcmeNodeProd4" "reference" "https://api.github.com/repos/garreeoke/spin-apps/contents/acmeair/acme-air-dep.yml"}}
			],
			"triggers": [
				{{ module "github.trigger.module" "project" "garreeoke" "secret" "Armory2020" "slug" "spin-apps" }}
			]
		},
		{
			"application": "acmeair",
			"name": "acmenode-dev",
			"expectedArtifacts": [],
			"keepWaitingPipelines": false,
			"limitConcurrent": false,
			"stages": [
				{{ module "k8s.deploymanifest.stage.module" "stageOrder" 1 "stageName" "DeployFullAcmeAir" "reference" "https://api.github.com/repos/garreeoke/spin-apps/contents/acmeair/acme-air-full.yml" }},
				{{ module "single.manual_judgement.module" "stageOrder" 2 "stageName" "Hold for Testing" "instruction" "Click done when your testing is complete" "judgementInput" "Done" "previousStage" 1 }},
				{{ module "k8s.delete_manifest.module" "objectType" "namespace" "objectName" "acme-air-${trigger['tag']}" "reference" "https://api.github.com/repos/garreeoke/spin-apps/contents/acmeair/acme-air-full.yml" "stageOrder" 3 "stageName" "DeleteFullAcmeAir1" "previousStage" 2 }}
			],
			"triggers": [
				{{ module "docker.trigger.module" "dockerOrg" "garreeoke" "dockerRegistry" "index.docker.io" "image" "garreeoke/acmenode" "dockerTag" "pr.*" }}
			]
		}
	]
}
